<!DOCTYPE html>
<html>
<style>
body{
    background-image:url('assets/bg.webp');
}
</style>
<body>
    <div id='Smooth' style="z-index: -123;position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;background-color: black; opacity: 1;"></div>
    <script src="Smooth.js"></script>
    <script>

function PauseSounds() {
    StartedSong.pause()
}
function ResumeSounds() {
    StartedSong.play()
}

    </script>

    <script src="taptapir/taptapir.js"></script> 
    <script>
      //TODO: Organise on mobile when home/ access to phone web
class AchievementEntity extends Entity{
  constructor(options) {
        let settings = {parent: camera.ui,scale: [1.2, 0.1],x:0,y:0,canClaim:false,color:color.black, achievement: false, achievementClaimed: false, descriptor: 'I am description of reward', rewardDescriptor: 'I say reward', title: 'I tell how get reward', reward: null};
        for (const [key, value] of Object.entries(options)) {
            if (value !== false) {
                settings[key] = value;
            }
        }
        super(settings);
        this.achievementIcon = new Entity({name:'achievementIcon ',parent:this,scale:[.125,.8],texture:'Clicker-idle.gif',x:-.445})
        this.achievementTitle = new Text({name:'achievementTitle ',parent:this, text:this.title,text_color:color.gray,y:.15})
        this.achievementDescription = new Text({name:'achievementDescription ',parent:this, text:this.descriptor,text_color:color.gray,text_size:2,y:-.5})
        this.achievementRewardInfo = new Text({name:'achievementRewardInfo ',parent:this, text:this.rewardDescriptor,text_size:2,text_color:color.gray, xy:[.5,-.5]})
        if (this.achievement && ! this.achievementClaimed) {
            print("Borger")
            this.achievementClaim = new Button({name:'achievementClaim ',text:"Claim",color:color.green,scale:[.175,.08],xy:[0.45,0]});
            this.canClaim = 'claimable';
            print(this.canClaim)
        }
        else if (this.achievement && this.achievementClaimed) {
            this.achievementClaim = new Button({name:'achievementClaim ',text:"Claimed",color:color.gray,scale:[.175,.08],xy:[0.45,0]});
        }
        else {
            this.achievementClaim = new Button({name:'achievementClaim ',text:"Claimed",color:color.gray,scale:[.175,.08],xy:[0.45,0]});
        }
        this.achievementClaim.on_click = function(){
            print(this.canClaim)
            if (this.canClaim === 'claimable'){
                print("Hi")
                eval(reward)
                achievementClaimed = 1
                claimAnimation();
                localStorage.setItem(achievementClaimed, 1)
                this.achievementClaim.color = color.gray
                this.achievementClaim.text = 'Claimed'
            }
        }
      }
}
    </script>  
<script type="text/sunsnake">

#Global Functions
set_orientation('horizontal')
set_window_color('white')
set_background_color('white')
ASSETS_FOLDER = 'assets/'

#Achievement 1 - 1
clicked1achievement = true
claimclickedonceachievement = save_system_load('claimclickedonceachievement') || 0
achievement1 = AchievementEntity(alpha=1, title='Click 100 times', descriptor='Click the cliker 100 times', rewardDescriptor='20 clicks', achievement = clicked1achievement, achievementClaimed=claimclickedonceachievement, reward = 'console.log("Claimed")')
_hidden_fullscreen_button.xy = [213213213,123123123]
</script>
<script src="taptapir/sunsnake_compiler.js"></script>
</body>
</html>