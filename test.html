<!DOCTYPE html>
<html>
    <style>

        @font-face{
            font-family: MainFont;
            src: url('assets/MainFont.ttf')
        }
        @keyframes rainbow {
          0% { background-color: red; }
          14% { background-color: orange; }
          28% { background-color: yellow; }
          42% { background-color: green; }
          57% { background-color: blue; }
          71% { background-color: indigo; }
          85% { background-color: violet; }
          100% { background-color: red; }
        }
        html * {
            font-family: MainFont;
        }
        body{
            background-image:url('assets/bg.webp');
        }
        .rainbow-animation {
          animation: rainbow 2s linear infinite;
        }
        .claimed {
            position: fixed;
            top: 40%;
            left: 50%;
            font-size: 24px;
            transform: translate(-50%, -50%);
            color: green;
            animation: claim 3s ease-in-out forwards;
        }
        
        @keyframes claim {
            0% {
            opacity: 0;
            transform: translate(-50%, 100%);
            }
            50% {
            opacity: 1;
            transform: translate(-50%, -50%);
            }
            100% {
            opacity: 0;
            transform: translate(-50%, -100%);
            }
        }
        </style>
<body>
    <div id='Smooth' style="z-index: -123;position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;background-color: black; opacity: 1;"></div>
    <script src="Smooth.js"></script>
    <script>

function PauseSounds() {
    StartedSong.pause()
}
function ResumeSounds() {
    StartedSong.play()
}
function claimAnimation() {
      const element = document.createElement('div')
      document.body.appendChild(element)
      element.innerText = 'Claimed successfully';
      element.classList.add('claimed');
      after(3, function() {element.remove()})
    }
    
    </script>

    <script src="taptapir/taptapir.js"></script> 
    <script>
      //TODO: Organise on mobile when home/ access to phone web
class AchievementEntity extends Entity{
  constructor(options) {
        let settings = {parent: camera.ui,scale: [1.2, 0.1],x:0,y:0,canClaim:false,color:color.black,achievementName: '', achievement: false, achievementClaimed: false, descriptor: 'I am description of reward', rewardDescriptor: 'I say reward', title: 'I tell how get reward', reward: null};
        for (const [key, value] of Object.entries(options)) {
            if (value !== false) {
                settings[key] = value;
            }
        }
        super(settings);
        this.achievementIcon = new Entity({name:'achievementIcon ',parent:this,scale:[.125,.8],texture:'Clicker-idle.gif',x:-.445})
        this.achievementTitle = new Text({name:'achievementTitle ',parent:this, text:this.title,text_color:color.gray,y:0})
        this.achievementDescription = new Text({name:'achievementDescription ',parent:this, text:this.descriptor,text_color:color.gray,text_size:2,y:-.5})
        this.achievementRewardInfo = new Text({name:'achievementRewardInfo ',parent:this, text:this.rewardDescriptor,text_size:2,text_color:color.gray, xy:[.5,-.5]})
        if (! this.achievement && this.achievementClaimed) {
            this.achievementClaim = new Button({name:'achievementClaim ',parent:this,text:"Claim",color:color.green,scale:[.15,.7],xy:[0.4,0]});
            this.canClaim = 'claimable';
        }
        else if (this.achievement && this.achievementClaimed) {
            this.achievementClaim = new Button({name:'achievementClaim ',parent:this,text:"Claimed",color:color.gray,scale:[.15,.7],xy:[0.4,0]});
        }
        else {
            this.achievementClaim = new Button({name:'achievementClaim ',parent:this,text:"Claim",color:color.gray,scale:[.15,.7],xy:[0.4,0]});
        }
        this.achievementClaim.on_click = () => {
            if (this.canClaim === 'claimable'){
                eval(this.reward)
                claimAnimation();
                localStorage.setItem(this.achievementName, 1)
                this.achievement = 1
                this.achievementClaim.color = color.gray
                this.achievementClaim.text = 'Claimed'
        }
      }}
}
    </script>  
<script type="text/sunsnake">

#Global Functions
set_orientation('horizontal')
set_window_color('white')
set_background_color('white')
ASSETS_FOLDER = 'assets/'

#Achievement 1 - 1

#this is for testing when the achievement has been claimed.
clicked1achievement = save_system_load('clicked1achievement') || 0

#Used for connecting the names together
achievement1name = 'clicked1achievement'

#This one is used for tracking when you achieve it
claimclickedonceachievement = save_system_load('clickedonceachievement') || 0

#Loading the achievement
achievement1 = AchievementEntity(alpha=1, title='Click 100 times', descriptor='Click the cliker 100 times', achievementName = achievement1name, rewardDescriptor='20 clicks', achievement = clicked1achievement, achievementClaimed=claimclickedonceachievement, reward = 'console.log("Claimed")')










_hidden_fullscreen_button.xy = [213213213,123123123]
</script>
<script src="taptapir/sunsnake_compiler.js"></script>
</body>
</html>